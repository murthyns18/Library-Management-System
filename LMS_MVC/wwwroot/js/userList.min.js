function actionFormatter(n,t,i){return`
        <div class="text-nowrap">
            <a href="/User/EditUser?q=${Encrypt("userID"+i.userID)}"
               class="btn btn-sm btn-warning me-1">
                <i class="bi bi-pencil-square"></i>
            </a>
            <button class="btn btn-sm btn-danger btn-delete"
                    data-id="${i.userID}"
                    data-name="${i.userName}">
                <i class="bi bi-trash"></i>
            </button>
        </div>`}function dateFormatter(n){if(!n)return"-";const t=new Date(n);return t.toLocaleDateString("en-GB")}function statusFormatter(n){return isExport?n?"Active":"Inactive":n?"<span class='badge bg-success'>Active<\/span>":"<span class='badge bg-danger'>Inactive<\/span>"}function arrayFormatter(n){return n?Array.isArray(n)?n.join(", "):n:"-"}function mobileFormatter(n){return n?isExport?"'"+n:n:""}async function deleteUser(n,t){const i=await confirmAsync(`Are you sure you want to delete the user "${t}"?`);if(i)try{const t=await $.ajax({url:"/User/DeleteUser",type:"POST",data:{userID:n,__RequestVerificationToken:$('input[name="__RequestVerificationToken"]').val()}});t.success&&$("#userGrid").jqGrid("delRowData",n);App.alert(t.message)}catch{App.alert("Delete failed")}}function getRoleFilter(){let n=":All";return $.ajax({url:apiURL+"Role/GetRoles","async":!1,beforeSend:n=>n.setRequestHeader("Authorization","Bearer "+TOKEN),success:function(t){t.forEach(t=>{n+=`;${t.roleName}:${t.roleName}`})}}),n}function loadCountries(){$.ajax({url:apiURL+"User/GetCountries",beforeSend:n=>n.setRequestHeader("Authorization","Bearer "+TOKEN),success:function(n){let t="";n.forEach(n=>{t+=`<li data-id="${n.countryId}">${n.countryName}</li>`});$("#countryList").html(t)}})}function updateLanguages(){const n=[];$(".langChk:checked").each(function(){n.push($(this).val())});$("#LanguagesKnownCsv").val(n.join(","))}$(document).on("click",".btn-delete",function(){deleteUser($(this).data("id"),$(this).data("name"))});$(function(){if($("#userGrid").length){const n=[{label:"Action",name:"action",width:150,align:"center",formatter:actionFormatter,search:!1,exportcol:!1},{name:"userID",key:!0,hidden:!0},{label:"Name",name:"userName",width:150},{label:"Email",name:"email",width:220},{label:"DOB",name:"dob",width:110,align:"center",formatter:dateFormatter},{label:"Mobile",name:"mobileNumber",width:120,align:"right",formatter:mobileFormatter},{label:"Address",name:"address",width:150},{label:"Languages",name:"languagesKnown",width:180,formatter:arrayFormatter,search:!1},{label:"Categories",name:"interestedCategories",width:180,formatter:arrayFormatter,search:!1},{label:"Status",name:"status",width:100,align:"center",formatter:statusFormatter,stype:"select",searchoptions:{value:":All;true:Active;false:Inactive",sopt:["eq"]}}];App.CreateJQGrid("#userGrid",apiURL+"User/UserList","json",[],n,TOKEN,!0,!1,"55vh")}});$("#countryList").on("click","li",function(){const n=$(this).data("id");$("#CountryId").val(n);$("#countryList li").removeClass("active");$(this).addClass("active");$("#stateColumn").removeClass("d-none");$("#cityColumn").addClass("d-none");$("#StateId, #CityId").val("");$.ajax({url:apiURL+"User/GetStates",data:{countryId:n},beforeSend:n=>n.setRequestHeader("Authorization","Bearer "+TOKEN),success:function(n){let t="";n.forEach(n=>{t+=`<li data-id="${n.stateId}">${n.stateName}</li>`});$("#stateList").html(t)}})});$("#stateList").on("click","li",function(){const n=$(this).data("id");$("#StateId").val(n);$("#stateList li").removeClass("active");$(this).addClass("active");$("#cityColumn").removeClass("d-none");$("#CityId").val("");$.ajax({url:apiURL+"User/GetCities",data:{stateId:n},beforeSend:n=>n.setRequestHeader("Authorization","Bearer "+TOKEN),success:function(n){let t="";n.forEach(n=>{t+=`<li data-id="${n.cityId}">${n.cityName}</li>`});$("#cityList").html(t)}})});$("#cityList").on("click","li",function(){$("#CityId").val($(this).data("id"));$("#cityList li").removeClass("active");$(this).addClass("active")});$(document).ready(function(){$("#countryList").length&&loadCountries()});$(".langChk").on("change",updateLanguages);$("#InterestedCategories").on("change",function(){$("#InterestedCategoriesCsv").val($(this).val()?.join(","))});$(document).ready(function(){updateLanguages();$("#InterestedCategories").trigger("change")});
//# sourceMappingURL=userList.min.js.map